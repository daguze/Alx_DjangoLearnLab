{% extends 'blog/base.html' %}
{% block title %}Login — Django Blog{% endblock %}

{% block extra_head %}
  {# Optional: only if you created a separate auth.css #}
  {# <link rel="stylesheet" href="{% static 'blog/css/auth.css' %}"> #}
{% endblock %}

{% block content %}
  <div class="auth-page login-page">
    <h2>Login</h2>

    <form method="post" novalidate>
      {% csrf_token %}

      {# preserve redirect target if ?next=/something was passed #}
      {% if request.GET.next %}
        <input type="hidden" name="next" value="{{ request.GET.next }}">
      {% endif %}

      {{ form.non_field_errors }}

      <div class="form-row">
        {{ form.username.label_tag }}
        {{ form.username }}
        {% for err in form.username.errors %}<p class="error">{{ err }}</p>{% endfor %}
      </div>

      <div class="form-row">
        {{ form.password.label_tag }}
        {{ form.password }}
        {% for err in form.password.errors %}<p class="error">{{ err }}</p>{% endfor %}
      </div>

      <button type="submit">Sign in</button>
    </form>

    <p>Don’t have an account? <a href="{% url 'register' %}">Register</a></p>
  </div>
{% endblock %}
